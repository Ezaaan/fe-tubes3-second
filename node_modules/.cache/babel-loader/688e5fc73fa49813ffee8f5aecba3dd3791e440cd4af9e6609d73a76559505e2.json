{"ast":null,"code":"var _jsxFileName = \"D:\\\\Kuliah\\\\SMT 4\\\\Stima\\\\Tubes\\\\Tubes 3\\\\fe-tubes3\\\\src\\\\component\\\\Conversation.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport MessageBubbleRight from './MessageBubbleRight';\nimport MessageBubbleLeft from './MessageBubbleLeft';\nimport { useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Conversation(_ref) {\n  _s();\n  let {\n    chatID,\n    triggerSignal\n  } = _ref;\n  // const [file, getFile] = useState\n  const [data, setData] = useState('');\n  const API = 'chat/' + chatID;\n  const [trigger, setTrigger] = useState(triggerSignal);\n  const dataFetch = async () => {\n    const fetched = await (await fetch(API)).json();\n    setData(fetched.chats);\n    //console.log(\"CONVERSATION ID: \" + chatID)\n    console.log(fetched);\n  };\n  useEffect(() => {\n    dataFetch();\n    const interval = setInterval(() => {\n      console.log('This will be called every 1 seconds');\n      dataFetch();\n    }, 1000);\n    return () => clearInterval(interval);\n    console.log(\"CHANGED\");\n    // fetchChats()\n  }, [data]);\n\n  // useEffect(() => {\n\n  //   dataFetch();\n  // },[triggerSignal])\n\n  // while(!data){\n  //   console.log(\"Fetching failed conversation data\")\n  //   fetchChats()\n  // }\n\n  // const dataToMessage = () => {\n  //   setData({parentToChild});\n  // }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"conversation\",\n    children: [data && data.map(item => {\n      if (item.from === \"user\") {\n        return /*#__PURE__*/_jsxDEV(MessageBubbleRight, {\n          dataToMessage: item.chat\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 22\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(MessageBubbleLeft, {\n          dataToMessage: item.chat\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 22\n        }, this);\n      }\n    }), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-container\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n_s(Conversation, \"FxYUaPl9cSy5LWiZqvfkScjIj6c=\");\n_c = Conversation;\nexport default Conversation;\nvar _c;\n$RefreshReg$(_c, \"Conversation\");","map":{"version":3,"names":["React","MessageBubbleRight","MessageBubbleLeft","useEffect","useState","jsxDEV","_jsxDEV","Conversation","_ref","_s","chatID","triggerSignal","data","setData","API","trigger","setTrigger","dataFetch","fetched","fetch","json","chats","console","log","interval","setInterval","clearInterval","className","children","map","item","from","dataToMessage","chat","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/Kuliah/SMT 4/Stima/Tubes/Tubes 3/fe-tubes3/src/component/Conversation.jsx"],"sourcesContent":["import React from 'react'\r\nimport MessageBubbleRight from './MessageBubbleRight'\r\nimport MessageBubbleLeft from './MessageBubbleLeft'\r\nimport { useEffect, useState } from 'react';\r\n\r\nfunction Conversation({chatID, triggerSignal}) {\r\n  // const [file, getFile] = useState\r\n  const[data, setData] = useState('');\r\n  const API = 'chat/' + chatID\r\n  const[trigger, setTrigger] = useState(triggerSignal)\r\n\r\n  const dataFetch = async () => {\r\n    const fetched = await (await fetch(API)).json();\r\n\r\n    setData(fetched.chats);\r\n    //console.log(\"CONVERSATION ID: \" + chatID)\r\n    console.log(fetched);\r\n  }\r\n\r\n  useEffect(() => {\r\n    dataFetch();\r\n\r\n    const interval = setInterval(() => {\r\n      console.log('This will be called every 1 seconds');\r\n      dataFetch();\r\n    }, 1000);\r\n\r\n    return () => clearInterval(interval);\r\n    console.log(\"CHANGED\")\r\n    // fetchChats()\r\n  }, [data]);\r\n\r\n  // useEffect(() => {\r\n    \r\n  //   dataFetch();\r\n  // },[triggerSignal])\r\n\r\n  // while(!data){\r\n  //   console.log(\"Fetching failed conversation data\")\r\n  //   fetchChats()\r\n  // }\r\n\r\n\r\n\r\n  // const dataToMessage = () => {\r\n  //   setData({parentToChild});\r\n  // }\r\n\r\n  return (\r\n    <div className='conversation'>\r\n      {\r\n        data && data.map((item) => {\r\n            if(item.from === \"user\"){\r\n              return <MessageBubbleRight dataToMessage={item.chat}/>\r\n            }else{\r\n              return <MessageBubbleLeft dataToMessage={item.chat}/>\r\n            }\r\n          \r\n        })\r\n      }\r\n        <div className='flex-container'></div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Conversation"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,kBAAkB,MAAM,sBAAsB;AACrD,OAAOC,iBAAiB,MAAM,qBAAqB;AACnD,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE5C,SAASC,YAAYA,CAAAC,IAAA,EAA0B;EAAAC,EAAA;EAAA,IAAzB;IAACC,MAAM;IAAEC;EAAa,CAAC,GAAAH,IAAA;EAC3C;EACA,MAAK,CAACI,IAAI,EAAEC,OAAO,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EACnC,MAAMU,GAAG,GAAG,OAAO,GAAGJ,MAAM;EAC5B,MAAK,CAACK,OAAO,EAAEC,UAAU,CAAC,GAAGZ,QAAQ,CAACO,aAAa,CAAC;EAEpD,MAAMM,SAAS,GAAG,MAAAA,CAAA,KAAY;IAC5B,MAAMC,OAAO,GAAG,MAAM,CAAC,MAAMC,KAAK,CAACL,GAAG,CAAC,EAAEM,IAAI,CAAC,CAAC;IAE/CP,OAAO,CAACK,OAAO,CAACG,KAAK,CAAC;IACtB;IACAC,OAAO,CAACC,GAAG,CAACL,OAAO,CAAC;EACtB,CAAC;EAEDf,SAAS,CAAC,MAAM;IACdc,SAAS,CAAC,CAAC;IAEX,MAAMO,QAAQ,GAAGC,WAAW,CAAC,MAAM;MACjCH,OAAO,CAACC,GAAG,CAAC,qCAAqC,CAAC;MAClDN,SAAS,CAAC,CAAC;IACb,CAAC,EAAE,IAAI,CAAC;IAER,OAAO,MAAMS,aAAa,CAACF,QAAQ,CAAC;IACpCF,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;IACtB;EACF,CAAC,EAAE,CAACX,IAAI,CAAC,CAAC;;EAEV;;EAEA;EACA;;EAEA;EACA;EACA;EACA;;EAIA;EACA;EACA;;EAEA,oBACEN,OAAA;IAAKqB,SAAS,EAAC,cAAc;IAAAC,QAAA,GAEzBhB,IAAI,IAAIA,IAAI,CAACiB,GAAG,CAAEC,IAAI,IAAK;MACvB,IAAGA,IAAI,CAACC,IAAI,KAAK,MAAM,EAAC;QACtB,oBAAOzB,OAAA,CAACL,kBAAkB;UAAC+B,aAAa,EAAEF,IAAI,CAACG;QAAK;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAC,CAAC;MACxD,CAAC,MAAI;QACH,oBAAO/B,OAAA,CAACJ,iBAAiB;UAAC8B,aAAa,EAAEF,IAAI,CAACG;QAAK;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAC,CAAC;MACvD;IAEJ,CAAC,CAAC,eAEF/B,OAAA;MAAKqB,SAAS,EAAC;IAAgB;MAAAO,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACrC,CAAC;AAEV;AAAC5B,EAAA,CA1DQF,YAAY;AAAA+B,EAAA,GAAZ/B,YAAY;AA4DrB,eAAeA,YAAY;AAAA,IAAA+B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}