{"ast":null,"code":"var _jsxFileName = \"D:\\\\Kuliah\\\\SMT 4\\\\Stima\\\\Tubes\\\\Tubes 3\\\\fe-tubes3\\\\src\\\\component\\\\Conversation.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport MessageBubbleRight from './MessageBubbleRight';\nimport MessageBubbleLeft from './MessageBubbleLeft';\nimport { useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Conversation(_ref) {\n  _s();\n  let {\n    chatID\n  } = _ref;\n  // const [file, getFile] = useState\n  const [data, setData] = useState('');\n  const API = 'chat/' + chatID;\n  const fetchChats = () => {\n    // fetch(API).then((res) => res.json()).then((resChats) => {\n    //   //console.log(res);\n    //   //console.log(\"This is the id: \" + chatID)\n    //   setData(resChats.chats);\n    //   console.log(data)\n    // })\n\n    fetch(API).then(res => {\n      //console.log(\"Ini data fetch sebelum jadi json: \" + res);\n      return res.json();\n    }).then(resAfter => {\n      // console.log(\"Ini data fetch setelah jadi json: \" + res);\n      setData(resAfter.chats);\n      console.log(data);\n    });\n  };\n  useEffect(() => {\n    const dataFetch = async () => {\n      const fetched = await (await fetch(API)).json();\n      setData(fetched.chats);\n      //console.log(\"CONVERSATION ID: \" + chatID)\n      console.log(fetched);\n    };\n    dataFetch();\n    // fetchChats()\n  }, [API]);\n\n  // while(!data){\n  //   console.log(\"Fetching failed conversation data\")\n  //   fetchChats()\n  // }\n\n  // const dataToMessage = () => {\n  //   setData({parentToChild});\n  // }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"conversation\",\n    children: [data && data.map(item => {\n      if (item.from === \"user\") {\n        return /*#__PURE__*/_jsxDEV(MessageBubbleRight, {\n          dataToMessage: item.chat\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 22\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(MessageBubbleLeft, {\n          dataToMessage: item.chat\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 22\n        }, this);\n      }\n    }), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-container\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n_s(Conversation, \"VZqd8eS65aqgHhr94QvD8B0VC/4=\");\n_c = Conversation;\nexport default Conversation;\nvar _c;\n$RefreshReg$(_c, \"Conversation\");","map":{"version":3,"names":["React","MessageBubbleRight","MessageBubbleLeft","useEffect","useState","jsxDEV","_jsxDEV","Conversation","_ref","_s","chatID","data","setData","API","fetchChats","fetch","then","res","json","resAfter","chats","console","log","dataFetch","fetched","className","children","map","item","from","dataToMessage","chat","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/Kuliah/SMT 4/Stima/Tubes/Tubes 3/fe-tubes3/src/component/Conversation.jsx"],"sourcesContent":["import React from 'react'\r\nimport MessageBubbleRight from './MessageBubbleRight'\r\nimport MessageBubbleLeft from './MessageBubbleLeft'\r\nimport { useEffect, useState } from 'react';\r\n\r\nfunction Conversation({chatID}) {\r\n  // const [file, getFile] = useState\r\n  const[data, setData] = useState('');\r\n  const API = 'chat/' + chatID\r\n  const fetchChats = () => {\r\n    // fetch(API).then((res) => res.json()).then((resChats) => {\r\n    //   //console.log(res);\r\n    //   //console.log(\"This is the id: \" + chatID)\r\n    //   setData(resChats.chats);\r\n    //   console.log(data)\r\n    // })\r\n\r\n    fetch(API).then((res) => {\r\n      //console.log(\"Ini data fetch sebelum jadi json: \" + res);\r\n      return res.json();\r\n    }).then((resAfter) => {\r\n      // console.log(\"Ini data fetch setelah jadi json: \" + res);\r\n      setData(resAfter.chats);\r\n      console.log(data)\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    const dataFetch = async () => {\r\n      const fetched = await (await fetch(API)).json();\r\n\r\n      setData(fetched.chats);\r\n      //console.log(\"CONVERSATION ID: \" + chatID)\r\n      console.log(fetched);\r\n    }\r\n    dataFetch();\r\n    // fetchChats()\r\n  }, [API]);\r\n\r\n  // while(!data){\r\n  //   console.log(\"Fetching failed conversation data\")\r\n  //   fetchChats()\r\n  // }\r\n\r\n\r\n\r\n  // const dataToMessage = () => {\r\n  //   setData({parentToChild});\r\n  // }\r\n\r\n  return (\r\n    <div className='conversation'>\r\n      {\r\n        data && data.map((item) => {\r\n            if(item.from === \"user\"){\r\n              return <MessageBubbleRight dataToMessage={item.chat}/>\r\n            }else{\r\n              return <MessageBubbleLeft dataToMessage={item.chat}/>\r\n            }\r\n          \r\n        })\r\n      }\r\n        <div className='flex-container'></div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Conversation"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,kBAAkB,MAAM,sBAAsB;AACrD,OAAOC,iBAAiB,MAAM,qBAAqB;AACnD,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE5C,SAASC,YAAYA,CAAAC,IAAA,EAAW;EAAAC,EAAA;EAAA,IAAV;IAACC;EAAM,CAAC,GAAAF,IAAA;EAC5B;EACA,MAAK,CAACG,IAAI,EAAEC,OAAO,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EACnC,MAAMS,GAAG,GAAG,OAAO,GAAGH,MAAM;EAC5B,MAAMI,UAAU,GAAGA,CAAA,KAAM;IACvB;IACA;IACA;IACA;IACA;IACA;;IAEAC,KAAK,CAACF,GAAG,CAAC,CAACG,IAAI,CAAEC,GAAG,IAAK;MACvB;MACA,OAAOA,GAAG,CAACC,IAAI,CAAC,CAAC;IACnB,CAAC,CAAC,CAACF,IAAI,CAAEG,QAAQ,IAAK;MACpB;MACAP,OAAO,CAACO,QAAQ,CAACC,KAAK,CAAC;MACvBC,OAAO,CAACC,GAAG,CAACX,IAAI,CAAC;IACnB,CAAC,CAAC;EACJ,CAAC;EAEDR,SAAS,CAAC,MAAM;IACd,MAAMoB,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5B,MAAMC,OAAO,GAAG,MAAM,CAAC,MAAMT,KAAK,CAACF,GAAG,CAAC,EAAEK,IAAI,CAAC,CAAC;MAE/CN,OAAO,CAACY,OAAO,CAACJ,KAAK,CAAC;MACtB;MACAC,OAAO,CAACC,GAAG,CAACE,OAAO,CAAC;IACtB,CAAC;IACDD,SAAS,CAAC,CAAC;IACX;EACF,CAAC,EAAE,CAACV,GAAG,CAAC,CAAC;;EAET;EACA;EACA;EACA;;EAIA;EACA;EACA;;EAEA,oBACEP,OAAA;IAAKmB,SAAS,EAAC,cAAc;IAAAC,QAAA,GAEzBf,IAAI,IAAIA,IAAI,CAACgB,GAAG,CAAEC,IAAI,IAAK;MACvB,IAAGA,IAAI,CAACC,IAAI,KAAK,MAAM,EAAC;QACtB,oBAAOvB,OAAA,CAACL,kBAAkB;UAAC6B,aAAa,EAAEF,IAAI,CAACG;QAAK;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAC,CAAC;MACxD,CAAC,MAAI;QACH,oBAAO7B,OAAA,CAACJ,iBAAiB;UAAC4B,aAAa,EAAEF,IAAI,CAACG;QAAK;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAC,CAAC;MACvD;IAEJ,CAAC,CAAC,eAEF7B,OAAA;MAAKmB,SAAS,EAAC;IAAgB;MAAAO,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACrC,CAAC;AAEV;AAAC1B,EAAA,CA5DQF,YAAY;AAAA6B,EAAA,GAAZ7B,YAAY;AA8DrB,eAAeA,YAAY;AAAA,IAAA6B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}